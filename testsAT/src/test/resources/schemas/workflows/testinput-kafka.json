{
  "id": "d3857ce0-9966-4ec4-ba86-42872cf9cb72",
  "name": "testinput-kafka",
  "description": "Automatic Workflow testinput kafka 400ev",
  "settings": {
    "global": {
      "executionMode": "marathon",
      "userPluginsJars": [],
      "initSqlSentences": [],
      "addAllUploadedPlugins": true
    },
    "streamingSettings": {
      "window": "2s",
      "remember": "",
      "checkpointSettings": {
        "checkpointPath": "sparta/checkpoint",
        "enableCheckpointing": true,
        "autoDeleteCheckpoint": true,
        "addTimeToCheckpointPath": false
      }
    },
    "sparkSettings": {
      "master": "mesos://leader.mesos:5050",
      "sparkKerberos": true,
      "sparkDataStoreTls": true,
      "sparkMesosSecurity": true,
      "submitArguments": {
        "userArguments": [],
        "deployMode": "client",
        "supervise": false,
        "jars": "",
        "propertiesFile": "",
        "packages": "",
        "excludePackages": "",
        "repositories": "",
        "driverJavaOptions": "-XX:+UseConcMarkSweepGC",
        "driverLibraryPath": "",
        "driverClassPath": ""
      },
      "sparkConf": {
        "sparkResourcesConf": {
          "coresMax": "1",
          "executorMemory": "2G",
          "executorCores": "1",
          "driverCores": "1",
          "driverMemory": "2G",
          "mesosExtraCores": "",
          "localityWait": "100",
          "taskMaxFailures": "8",
          "sparkMemoryFraction": "0.6"
        },
        "sparkDockerConf": {
          "executorDockerImage": "qa.stratio.com/stratio/stratio-spark:2.1.0.6",
          "executorDockerVolumes": "/opt/mesosphere/packages/:/opt/mesosphere/packages/:ro,/opt/mesosphere/lib/:/opt/mesosphere/lib/:ro",
          "executorForcePullImage": false
        },
        "sparkMesosConf": {
          "mesosNativeJavaLibrary": "/opt/mesosphere/lib/libmesos.so",
          "mesosHDFSConfURI": ""
        },
        "userSparkConf": [],
        "coarse": true,
        "stopGracefully": true,
        "stopGracefulTimeout": "",
        "sparkUser": "",
        "sparkLocalDir": "/opt/spark/dist",
        "parquetBinaryAsString": true,
        "executorExtraJavaOptions": "-XX:+UseConcMarkSweepGC"
      }
    }
  },
  "pipelineGraph": {
    "nodes": [
      {
        "name": "Test",
        "stepType": "Input",
        "className": "TestInputStepStream",
        "classPrettyName": "Test",
        "arity": [
          "NullaryToNary"
        ],
        "writer": {
          "saveMode": "Append",
          "tableName": "",
          "partitionBy": ""
        },
        "description": "Json with ID",
        "uiConfiguration": {
          "position": {
            "x": 476,
            "y": 234
          }
        },
        "configuration": {
          "maxNumbEvents": "400",
          "eventType": "STRING",
          "outputField": "raw",
          "event": "{\"id\":\"550\"}",
          "numEvents": "400"
        }
      },
      {
        "name": "JsonPath",
        "stepType": "Transformation",
        "className": "JsonPathTransformStepStream",
        "classPrettyName": "JsonPath",
        "arity": [
          "UnaryToNary"
        ],
        "writer": {
          "saveMode": "Append",
          "tableName": "",
          "partitionBy": ""
        },
        "uiConfiguration": {
          "position": {
            "x": 729,
            "y": 234
          }
        },
        "configuration": {
          "queries": [
            {
              "field": "id",
              "query": "$.id",
              "type": "string"
            }
          ],
          "whenError": "Error",
          "supportNullValues": true,
          "fieldsPreservationPolicy": "REPLACE",
          "inputField": "raw"
        }
      },
      {
        "name": "Kafka",
        "stepType": "Output",
        "className": "KafkaOutputStep",
        "classPrettyName": "Kafka",
        "arity": [
          "NaryToNullary"
        ],
        "writer": {
          "saveMode": "Append"
        },
        "description": "Kafka Output",
        "uiConfiguration": {
          "position": {
            "x": 1239,
            "y": 234
          }
        },
        "configuration": {
          "value.serializer.outputFormat": "JSON",
          "tlsEnabled": true,
          "security.protocol": "PLAINTEXT",
          "bootstrap.servers": [
            {
              "host": "broker-0001.kafka-sec.mesos",
              "port": "9092"
            }
          ],
          "acks": "0",
          "ssl.client.auth": "required",
          "saveOptions": "[]",
          "keySeparator": ",",
          "batch.size": "200"
        }
      },
      {
        "name": "idtable",
        "stepType": "Transformation",
        "className": "TriggerTransformStepStream",
        "classPrettyName": "Trigger",
        "arity": [
          "BinaryToNary",
          "UnaryToNary"
        ],
        "writer": {
          "saveMode": "Append",
          "tableName": "idtopic",
          "partitionBy": ""
        },
        "uiConfiguration": {
          "position": {
            "x": 954,
            "y": 234
          }
        },
        "configuration": {
          "sql": "select id from JsonPath"
        }
      }
    ],
    "edges": [
      {
        "origin": "Test",
        "destination": "JsonPath"
      },
      {
        "origin": "JsonPath",
        "destination": "idtable"
      },
      {
        "origin": "idtable",
        "destination": "Kafka"
      }
    ]
  },
  "executionEngine": "Streaming",
  "uiSettings": {
    "position": {
      "x": -216,
      "y": -1,
      "k": 1
    }
  },
  "lastUpdateDate": "2018-01-11T08:20:12Z"
}