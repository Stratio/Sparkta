{
  "id": "81f000a5-f000-44a2-a317-a79b2c361f9e",
  "name": "test-uniqueconstraint",
  "description": "test-uniqueconstraint",
  "settings": {
    "global": {
      "executionMode": "marathon",
      "userPluginsJars": [],
      "preExecutionSqlSentences": [],
      "postExecutionSqlSentences": [],
      "addAllUploadedPlugins": true,
      "mesosConstraint": "",
      "mesosConstraintOperator": "CLUSTER",
      "parametersLists": [
        "Environment"
      ],
      "parametersUsed": [
        "Global.DEFAULT_OUTPUT_FIELD",
        "Global.SPARK_DRIVER_JAVA_OPTIONS",
        "Global.SPARK_EXECUTOR_EXTRA_JAVA_OPTIONS",
        "Global.SPARK_STREAMING_CHECKPOINT_PATH"
      ],
      "udfsToRegister": [],
      "udafsToRegister": []
    },
    "streamingSettings": {
      "window": "10s",
      "remember": "",
      "backpressure": false,
      "blockInterval": "100ms",
      "stopGracefully": false,
      "checkpointSettings": {
        "checkpointPath": "{{{Global.SPARK_STREAMING_CHECKPOINT_PATH}}}",
        "enableCheckpointing": true,
        "autoDeleteCheckpoint": true,
        "addTimeToCheckpointPath": false
      }
    },
    "sparkSettings": {
      "master": "mesos://leader.mesos:5050",
      "sparkKerberos": true,
      "sparkDataStoreTls": true,
      "sparkMesosSecurity": true,
      "submitArguments": {
        "userArguments": [],
        "deployMode": "client",
        "driverJavaOptions": "{{{Global.SPARK_DRIVER_JAVA_OPTIONS}}}"
      },
      "sparkConf": {
        "sparkResourcesConf": {
          "coresMax": "1",
          "executorMemory": "2G",
          "executorCores": "1",
          "driverCores": "1",
          "driverMemory": "2G",
          "mesosExtraCores": "",
          "localityWait": "100",
          "taskMaxFailures": "8",
          "sparkMemoryFraction": "0.6",
          "sparkParallelism": ""
        },
        "sparkHistoryServerConf": {
          "enableHistoryServerMonitoring": false
        },
        "userSparkConf": [],
        "coarse": true,
        "sparkUser": "root",
        "sparkLocalDir": "/opt/spark/dist",
        "sparkKryoSerialization": false,
        "sparkSqlCaseSensitive": false,
        "logStagesProgress": false,
        "hdfsTokenCache": true,
        "executorExtraJavaOptions": "{{{Global.SPARK_EXECUTOR_EXTRA_JAVA_OPTIONS}}}"
      }
    },
    "errorsManagement": {
      "genericErrorManagement": {
        "whenError": "Error"
      },
      "transformationStepsManagement": {
        "whenError": "Error",
        "whenRowError": "RowError",
        "whenFieldError": "FieldError"
      },
      "transactionsManagement": {
        "sendToOutputs": [],
        "sendStepData": false,
        "sendPredecessorsData": false,
        "sendInputData": true
      }
    }
  },
  "pipelineGraph": {
    "nodes": [
      {
        "name": "tabletest2",
        "stepType": "Transformation",
        "className": "TriggerTransformStepStreaming",
        "classPrettyName": "Trigger",
        "arity": [
          "BinaryToNary",
          "UnaryToNary"
        ],
        "writer": {
          "saveMode": "Upsert",
          "tableName": "public.tablaconstrain",
          "partitionBy": "",
          "constraintType": "uniqueConstraint",
          "uniqueConstraintName": "constrainfix1",
          "uniqueConstraintFields": "id,datetime,detail",
          "updateFields": "",
          "errorTableName": "",
          "discardTableName": ""
        },
        "uiConfiguration": {
          "position": {
            "x": 730.0864868164062,
            "y": 322
          }
        },
        "configuration": {
          "sql": "select * from Datetime1",
          "discardConditions": "[]",
          "inputSchemas": "[]",
          "executeSqlWhenEmpty": false
        },
        "supportedEngines": [],
        "executionEngine": "Streaming",
        "supportedDataRelations": [
          "ValidData",
          "DiscardedData"
        ],
        "lineageProperties": []
      },
      {
        "name": "Postgres",
        "stepType": "Output",
        "className": "PostgresOutputStep",
        "classPrettyName": "Postgres",
        "arity": [
          "NullaryToNullary",
          "NaryToNullary"
        ],
        "writer": {
          "saveMode": "Append"
        },
        "uiConfiguration": {
          "position": {
            "x": 972,
            "y": 204
          }
        },
        "configuration": {
          "errorSink": false,
          "url": "jdbc:postgresql://pg-0001.postgrestls.mesos:5432/postgres?user=sparta-server",
          "postgresSaveMode": "STATEMENT",
          "batchsize": "1000",
          "isolationLevel": "READ_UNCOMMITTED",
          "failFast": false,
          "tlsEnabled": true,
          "driver": "",
          "schemaFromDatabase": false,
          "saveOptions": "[]"
        },
        "supportedEngines": [],
        "executionEngine": "Streaming",
        "supportedDataRelations": [
          "ValidData"
        ],
        "lineageProperties": []
      },
      {
        "name": "Print",
        "stepType": "Output",
        "className": "PrintOutputStep",
        "classPrettyName": "Print",
        "arity": [
          "NaryToNullary"
        ],
        "writer": {
          "saveMode": "Append"
        },
        "uiConfiguration": {
          "position": {
            "x": 464,
            "y": -25
          }
        },
        "configuration": {
          "printSchema": true,
          "logLevel": "warn",
          "printMetadata": true,
          "printData": true
        },
        "supportedEngines": [],
        "executionEngine": "Streaming",
        "supportedDataRelations": [
          "ValidData"
        ],
        "lineageProperties": []
      },
      {
        "name": "Test",
        "stepType": "Input",
        "className": "TestInputStep",
        "classPrettyName": "Test",
        "arity": [
          "NullaryToNary"
        ],
        "writer": {
          "saveMode": "Append",
          "tableName": "",
          "partitionBy": "",
          "errorTableName": "",
          "discardTableName": ""
        },
        "uiConfiguration": {
          "position": {
            "x": 111.69190979003906,
            "y": 167.7082977294922
          }
        },
        "configuration": {
          "maxNumbEvents": "",
          "eventType": "STRING",
          "outputField": "{{{Global.DEFAULT_OUTPUT_FIELD}}}",
          "event": "{\"id\":\"222\",\"detail\":\"2222\"}",
          "debugOptions": "{\"userProvidedExample\":\"{\\\"id\\\":\\\"222\\\",\\\"detail\\\":\\\"2222\\\"}\"}",
          "numEvents": "100"
        },
        "supportedEngines": [
          "Streaming"
        ],
        "executionEngine": "Streaming",
        "supportedDataRelations": [
          "ValidData"
        ],
        "lineageProperties": []
      },
      {
        "name": "JsonPath",
        "stepType": "Transformation",
        "className": "JsonPathTransformStep",
        "classPrettyName": "JsonPath",
        "arity": [
          "UnaryToNary"
        ],
        "writer": {
          "saveMode": "Append",
          "tableName": "",
          "partitionBy": "",
          "errorTableName": ""
        },
        "uiConfiguration": {
          "position": {
            "x": 393.57318115234375,
            "y": 198.41094970703125
          }
        },
        "configuration": {
          "queries": [
            {
              "field": "id",
              "query": "$.id",
              "type": "string"
            },
            {
              "field": "detail",
              "query": "$.detail",
              "type": "string"
            }
          ],
          "inputSchemas": "[]",
          "supportNullValues": true,
          "whenFieldError": "",
          "whenRowError": "",
          "fieldsPreservationPolicy": "REPLACE",
          "inputField": "raw"
        },
        "supportedEngines": [
          "Streaming",
          "Batch"
        ],
        "executionEngine": "Streaming",
        "supportedDataRelations": [
          "ValidData",
          "DiscardedData"
        ],
        "lineageProperties": []
      },
      {
        "name": "Datetime1",
        "stepType": "Transformation",
        "className": "DateTimeTransformStep",
        "classPrettyName": "Datetime",
        "arity": [
          "UnaryToNary"
        ],
        "writer": {
          "saveMode": "Append",
          "tableName": "",
          "partitionBy": "",
          "errorTableName": ""
        },
        "uiConfiguration": {
          "position": {
            "x": 614.6538540320606,
            "y": 171.13855536133866
          }
        },
        "configuration": {
          "fieldsDatetime": [
            {
              "formatFrom": "AUTOGENERATED",
              "localeTime": "ENGLISH",
              "granularityNumber": "",
              "granularityTime": "millisecond",
              "fieldsPreservationPolicy": "APPEND",
              "outputFieldName": "datetime",
              "outputFieldType": "string",
              "nullable": true,
              "outputFormatFrom": "DEFAULT"
            }
          ],
          "inputSchemas": "[]",
          "whenRowError": "",
          "whenFieldError": ""
        },
        "supportedEngines": [
          "Streaming",
          "Batch"
        ],
        "executionEngine": "Streaming",
        "supportedDataRelations": [
          "ValidData",
          "DiscardedData"
        ],
        "lineageProperties": []
      }
    ],
    "edges": [
      {
        "origin": "tabletest2",
        "destination": "Postgres",
        "dataType": "ValidData"
      },
      {
        "origin": "Test",
        "destination": "JsonPath",
        "dataType": "ValidData"
      },
      {
        "origin": "JsonPath",
        "destination": "Print",
        "dataType": "ValidData"
      },
      {
        "origin": "JsonPath",
        "destination": "Datetime1",
        "dataType": "ValidData"
      },
      {
        "origin": "Datetime1",
        "destination": "tabletest2",
        "dataType": "ValidData"
      }
    ]
  },
  "executionEngine": "Streaming",
  "uiSettings": {
    "position": {
      "x": 95.27526703466992,
      "y": 85.48481563724636,
      "k": 0.9203956052243742
    }
  },
  "lastUpdateDate": "2019-01-24T20:19:02Z",
  "version": 3,
  "group": {
    "id": "940800b2-6d81-44a8-84d9-26913a2faea4",
    "name": "/home"
  },
  "debugMode": false,
  "groupId": "940800b2-6d81-44a8-84d9-26913a2faea4"
}