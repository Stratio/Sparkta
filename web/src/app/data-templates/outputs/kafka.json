  {
    "name": "Kafka",
    "classPrettyName": "Kafka",
    "className": "KafkaOutputStep",
    "icon": "Kafka",
    "description": "Apache Kafka is publish-subscribe messaging rethought as a distributed commit log",
    "properties": [
      {
        "propertyId": "bootstrap.servers",
        "propertyName": "_BOOTSTRAP_SERVERS_",
        "propertyType": "list",
        "regexp": "",
        "default": "",
        "required": true,
        "tooltip": "Kafka host/port to connect",
        "qa": "fragment-details-kafka-bootstrap-servers",
        "fields": [
          {
            "propertyId": "host",
            "propertyName": "_HOST_",
            "propertyType": "text",
            "regexp": "((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))|(((?![0-9]+$)(?!.*-$)(?!-)[a-zA-Z0-9-]{2,63}))",
            "default": "localhost",
            "required": true,
            "tooltip": "Kafka's address.",
             "width": 6,
            "qa": "fragment-details-kafka-host"
          },
          {
            "propertyId": "port",
            "propertyName": "_PORT_",
            "propertyType": "text",
            "regexp": "(0|([1-9]\\d{0,3}|[1-5]\\d{4}|[6][0-5][0-5]([0-2]\\d|[3][0-5])))",
            "default": "9092",
            "required": true,
            "tooltip": "Kafka's port.",
             "width": 2,
            "qa": "fragment-details-kafka-port"
          }
        ]
      },
      {
        "propertyId": "value.serializer.outputFormat",
        "propertyName": "_KAFKA_OUTPUT_FORMAT_",
        "propertyType": "select",
        "regexp": "JSON|ROW",
        "values": [
           {
              "label": "ROW",
              "value": "ROW"
           },
           {
            "label": "JSON",
            "value": "JSON"
          }
        ],
        "default": "ROW",
        "required": true,
        "qa": "fragment-details-kafka-format"
      },
      {
        "propertyId": "value.serializer.delimiter",
        "propertyName": "_KAFKA_ROW_SEPARATOR_",
        "propertyType": "text",
        "default": ",",
        "required": false,
         "visible": [
            [
               {
                  "propertyId": "value.serializer.outputFormat",
                  "value": "ROW"
               }
            ]
         ],
        "qa": "fragment-details-kafka-row-separator"
      },
      {
        "propertyId": "acks",
        "propertyName": "_ACKS_",
        "propertyType": "text",
        "default": "0",
        "required": false,
        "tooltip": "Specifies whether the producer waits for an acknowledgment from the broker.",
        "qa": "fragment-details-kafka-request-required-acks"
      },
      {
        "propertyId": "batch.size",
        "propertyName": "_BATCH_NUM_MESSAGES_",
        "propertyType": "text",
        "regexp": "[0-9]+",
        "default": "200",
        "required": false,
        "tooltip": "The number of messages to send in one batch",
        "qa": "fragment-details-kafka-batch-num-messages"
      },
      {
        "propertyId": "security.protocol",
        "propertyName": "_SECURITY_PROTOCOL_",
        "propertyType": "select",
        "regexp": "PLAINTEXT|SSL",
        "values": [
          {
            "label": "PLAINTEXT",
            "value": "PLAINTEXT"
          },
          {
            "label": "SSl",
            "value": "SSL"
          }
        ],
        "default": "PLAINTEXT",
        "required": true,
        "qa": "fragment-details-kafka-security-protocol"
      },
      {
        "propertyId": "ssl.client.auth",
        "propertyName": "_SECURITY_AUTH_",
        "propertyType": "select",
        "regexp": "none|required|requested",
        "values": [
          {
            "label": "none",
            "value": "none"
          },
          {
            "label": "required",
            "value": "required"
          },
          {
            "label": "requested",
            "value": "requested"
          }
        ],
        "default": "none",
        "required": true,
        "qa": "fragment-details-kafka-security-auth"
      },
      {
          "propertyId": "tlsEnabled",
          "propertyName": "_TLS_ENABLE_",
          "propertyType": "switch",
          "tooltip": "Enable TLS connection to connect to Kafka brokers getting certs from vault in Spark job",
          "default": false,
          "qa": "fragment-details-kafka-tls"
       },
      {
        "propertyId": "kafkaProperties",
        "propertyName": "_KAFKA_PROPERTIES_",
        "propertyType": "list",
        "required": false,
        "qa": "fragment-details-kafka-properties",
        "fields": [
          {
            "propertyId": "kafkaPropertyKey",
            "propertyName": "_KAFKA_PROPERTY_KEY_",
            "propertyType": "text",
             "width": 4,
            "required": false,
            "qa": "fragment-details-kafka-kafkaPropertyKey"
          },
          {
            "propertyId": "kafkaPropertyValue",
            "propertyName": "_KAFKA_PROPERTY_VALUE_",
            "propertyType": "text",
             "width": 4,
            "required": false,
            "qa": "fragment-details-kafka-kafkaPropertyValue"
          }
        ]
      }
    ]
  }
