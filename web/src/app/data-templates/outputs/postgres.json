  {
    "name": "Postgres",
     "icon": "Postgres",
     "className": "PostgresOutputStep",
    "classPrettyName": "Postgres",
     "arity": ["NullaryToNullary", "NaryToNullary"],
     "supportedEngines": ["Streaming", "Batch"],
    "description": "With one Postgres connection it's possible to write data into Postgres Databases. Optimize Jdbc write times, use function COPY IN available in Postgres library",
    "properties": [
      {
        "propertyId": "url",
        "propertyName": "_JDBC_URL_",
        "propertyType": "text",
        "default": "{{{POSTGRES_URL}}}",
        "required": true,
        "tooltip": "Url to connect to one Postgres Database",
        "qa": "fragment-details-postgres-url"
      },
      {
        "propertyId": "driver",
        "propertyName": "_JDBC_DRIVER_",
        "propertyType": "text",
        "required": false,
        "tooltip": "Driver class, this property has priority to URL",
        "qa": "fragment-details-jdbc-driver"
      },
      {
        "propertyId": "isolationLevel",
        "propertyName": "_ISOLATION_LEVEL_",
        "propertyType": "select",
        "values": [
          {
            "label": "None",
            "value": "NONE"
          },
          {
            "label": "Read Uncommitted",
            "value": "READ_UNCOMMITTED"
          },
          {
            "label": "Read Committed",
            "value": "READ_COMMITTED"
          },
          {
            "label": "Repeatable Read",
            "value": "REPEATABLE_READ"
          },
          {
            "label": "Serializable",
            "value": "SERIALIZABLE"
          }
        ],
        "default": "READ_UNCOMMITTED",
        "required": true,
        "tooltip": "Sets the isolation level when save data in the database",
        "qa": "fragment-postgres-isolation-level"
      },
      {
        "propertyId": "postgresSaveMode",
        "propertyName": "_POSTGRES_SAVE_MODE_",
        "propertyType": "select",
        "values": [
          {
            "label": "Batch Statement",
            "value": "STATEMENT"
          },
           {
              "label": "Single Statement",
              "value": "SINGLE_STATEMENT"
           },
           {
              "label": "One Transaction",
              "value": "ONE_TRANSACTION"
           },
          {
            "label": "Copy In",
            "value": "COPYIN"
          }
        ],
        "default": "STATEMENT",
        "required": true,
        "tooltip": "Sets whether the output should be written with copy in, batch statement, row by row, or all in a single transaction implementation",
        "qa": "fragment-postgres-save-mode"
      },
       {
          "propertyId": "batchsize",
          "propertyName": "_JDBC_BATCH_SIZE_",
          "propertyType": "text",
          "visible": [
             [
                {
                   "propertyId": "postgresSaveMode",
                   "value": "STATEMENT"
                }
             ]
          ],
          "default": "1000",
          "required": false,
          "tooltip": "Number of upsert statements that are sent to Database on each partition",
          "qa": "fragment-details-jdbc-batch-size"
       },
       {
          "propertyId": "delimiter",
          "propertyName": "_POSTGRES_DELIMITER_",
          "propertyType": "text",
          "visible": [
             [
                {
                   "propertyId": "postgresSaveMode",
                   "value": "COPYIN"
                }
             ]
          ],
          "default": "\t",
          "required": false,
          "tooltip": "Delimiter character used when transform to CSV, it's necessary that the events not contains the character",
          "qa": "fragment-details-postgres-delimiter"
       },
      {
        "propertyId": "newLineSubstitution",
        "propertyName": "_POSTGRES_NEW_LINE_SUBSTITUTION_",
        "propertyType": "text",
        "default": " ",
        "visible": [
          [
            {
              "propertyId": "postgresSaveMode",
              "value": "COPYIN"
            }
          ]
        ],
        "required": false,
        "tooltip": "Character used to substitute the new line character in the events",
        "qa": "fragment-details-postgres-new-line-substitution"
      },
       {
          "propertyId": "newQuotesSubstitution",
          "propertyName": "_POSTGRES_NEW_QUOTE_SUBSTITUTION_",
          "propertyType": "text",
          "default": "",
          "visible": [
             [
                {
                   "propertyId": "postgresSaveMode",
                   "value": "COPYIN"
                }
             ]
          ],
          "required": false,
          "tooltip": "Character used to substitute the quoting character in the events",
          "qa": "fragment-details-postgres-new-quote-substitution"
       },
      {
        "propertyId": "encoding",
        "propertyName": "_POSTGRES_ENCODING_",
        "propertyType": "text",
        "default": "UTF8",
        "visible": [
          [
            {
              "propertyId": "postgresSaveMode",
              "value": "COPYIN"
            }
          ]
        ],
        "required": false,
        "tooltip": "Charset encoding to use during saving",
        "qa": "fragment-details-postgres-encoding"
      },
       {
          "propertyId": "failFast",
          "propertyName": "_FAIL_FAST_",
          "propertyType": "boolean",
          "visibleOR": [
             [
                {
                   "propertyId": "postgresSaveMode",
                   "value": "STATEMENT"
                },
                {
                   "propertyId": "postgresSaveMode",
                   "value": "SINGLE_STATEMENT"
                }
             ]
          ],
          "default": true,
          "required": true,
          "tooltip": "Is enabled, on first error the workflow fails, if it is not enabled, errors are ignored",
          "qa": "fragment-details-postgres-failfast"
       },
       {
          "propertyId": "dropTemporalTableSuccess",
          "propertyName": "_DROP_TEMP_TABLE_SUCCESS_",
          "propertyType": "boolean",
          "visible": [
             [
                {
                   "propertyId": "postgresSaveMode",
                   "value": "ONE_TRANSACTION"
                }
             ]
          ],
          "default": true,
          "float": true,
          "required": true,
          "tooltip": "Is checked, temporal table used for one transaction type backup intermediate records, is deleted. Ends with _tmp_{Timestamp}",
          "qa": "fragment-details-postgres-droptemptable-success"
       },
       {
          "propertyId": "dropTemporalTableFailure",
          "propertyName": "_DROP_TEMP_TABLE_FAILURE_",
          "propertyType": "boolean",
          "visible": [
             [
                {
                   "propertyId": "postgresSaveMode",
                   "value": "ONE_TRANSACTION"
                }
             ]
          ],
          "default": false,
          "required": true,
          "tooltip": "Is checked, temporal table used for one transaction type backup intermediate records, is deleted on failures. Ends with _tmp_{Timestamp}",
          "qa": "fragment-details-postgres-droptemptable-failure"
       },
       {
          "propertyId": "tlsEnabled",
          "propertyName": "_TLS_ENABLE_",
          "propertyType": "boolean",
          "tooltip": "Enable TLS connection to connect with extra security protocol than user and password",
          "default": false,
          "qa": "fragment-details-postgres-tls"
       },
       {
          "propertyId": "schemaFromDatabase",
          "propertyName": "_SCHEMA_FROM_DATABASE_",
          "propertyType": "boolean",
          "tooltip": "Extract schema from output database",
          "default": false,
          "qa": "fragment-details-postgres-schema-database"
       },
       {
          "propertyId": "errorSink",
          "propertyName": "_ERROR_SINK_",
          "propertyType": "boolean",
          "tooltip": "This output can be used for sending errors in the errors management settings",
          "default": false,
          "qa": "fragment-details-errorSink"
       },
      {
        "propertyId": "saveOptions",
        "propertyName": "_POSTGRES_SAVE_PROPERTIES_",
        "propertyType": "list",
        "required": false,
        "qa": "fragment-details-postgres-save-properties",
        "fields": [
          {
            "propertyId": "saveOptionsKey",
            "propertyName": "_SAVE_OPTIONS_KEY_",
            "propertyType": "text",
             "width": 4,
            "hidden": false,
            "required": false,
            "qa": "fragment-details-postgres-saveOptionsKey"
          },
          {
            "propertyId": "saveOptionsValue",
            "propertyName": "_SAVE_OPTIONS_VALUE_",
            "propertyType": "text",
             "width": 4,
            "hidden": false,
            "required": false,
            "qa": "fragment-details-postgres-saveOptionsValue"
          }
        ]
      }
    ]
  }
