  {
    "name": "MlPipeline",
    "icon": "MlPipeline",
    "className": "MlPipelineOutputStep",
    "classPrettyName": "MlPipeline",
    "arity": ["UnaryToNullary"],
    "supportedEngines": ["Batch"],
    "description": "Spark ML Pipeline visual builder",
    "properties": [
       {
          "propertyId": "pipeline",
          "propertyName": "_PIPELINE_",
          "propertyType": "textarea",
          "contentType": "JSON",
          "width": 12,
          "required": true,
          "tooltip": "Spark ML Pipeline descriptor",
          "qa": ""
       },
       {
          "propertyId": "output.mode",
          "propertyName": "_OUTPUT_MODE_",
          "propertyType": "select",
          "values": [
             {
                "label": "Filesystem",
                "value": "FILESYSTEM"
             },
             {
                "label": "External Ml-Model-Repository service",
                "value": "MODELREP"
             },
             {
                "label": "Both",
                "value": "BOTH"
             }
          ],
          "default": "FILESYSTEM",
          "required": true,
          "tooltip": "Option to determine where the Spark pipeline model should be saved: FILESYSTEM stores the model either in HDFS or in a local folder according to the chosen execution ( 'Marathon' or 'Local' ), MODELREP uploads it directly to the specified model repository and BOTH stores and uploads it at the same time.",
          "qa": ""
       },
       {
          "propertyId": "path",
          "propertyName": "_PATH_",
          "propertyType": "text",
          "required": false,
          "visible": [
             [
                {
                   "propertyId": "output.mode",
                   "value": "FILESYSTEM"
                }
             ],
             [
                {
                   "propertyId": "output.mode",
                   "value": "BOTH"
                }
             ]
          ],
          "tooltip": "Hdfs path",
          "qa": ""
       },
       {
          "propertyId": "mlmodelrepModelName",
          "propertyName": "_MODELREP_MODEL_NAME_",
          "propertyType": "text",
          "required": false,
          "visible": [
             [
                {
                   "propertyId": "output.mode",
                   "value": "MODELREP"
                }
             ],
             [
                {
                   "propertyId": "output.mode",
                   "value": "BOTH"
                }
             ]
          ],
          "tooltip": "Model name used to store built pipeline into Ml-model-repository service.",
          "qa": ""
       },
       {
          "propertyId": "serializationLib",
          "propertyName": "_MODELREP_SERIALIZATION_LIB_",
          "propertyType": "select",
          "values": [
             {
                "label": "Spark",
                "value": "SPARK"
             },
             {
                "label": "MLeap",
                "value": "MLEAP"
             },
             {
                "label": "Spark and MLeap",
                "value": "SPARK_AND_MLEAP"
             }
          ],
          "default": "SPARK",
          "required": true,
          "visible": [
             [
                {
                   "propertyId": "output.mode",
                   "value": "MODELREP"
                }
             ],
             [
                {
                   "propertyId": "output.mode",
                   "value": "BOTH"
                }
             ]
          ],
          "tooltip": "Serialization library to use for saving the pipeline model into the Ml-Model-Repository.",
          "qa": ""
       },
       {
          "propertyId": "mlmodelrepModelTmpDir",
          "propertyName": "_MODELREP_TMP_DIR_",
          "propertyType": "text",
          "required": false,
          "visible": [
             [
                {
                   "propertyId": "output.mode",
                   "value": "MODELREP"
                }
             ],
             [
                {
                   "propertyId": "output.mode",
                   "value": "BOTH"
                }
             ]
          ],
          "default": "/tmp",
          "tooltip": "Temporary Hdfs directory used to save the trained pipelineModel before uploading to external ML-model-repository service.",
          "qa": ""
       },
       {
          "propertyId": "validateMlModelRep",
          "propertyName": "_MLPIPELINE_VALIDATE_CONNECTION_",
          "propertyType": "boolean",
          "required": false,
          "visible": [
             [
                {
                   "propertyId": "output.mode",
                   "value": "MODELREP"
                }
             ],
             [
                {
                   "propertyId": "output.mode",
                   "value": "BOTH"
                }
             ]
          ],
          "default": false,
          "tooltip": "Enables/Disables connection validation with the external ML-Model-Repository service.",
          "qa": ""
       }
    ]
  }
