{
  "name": "SFTP",
  "icon": "SFTP",
  "className": "SFTPOutputStep",
  "classPrettyName": "SFTP",
  "arity": [
    "NullaryToNullary",
    "NaryToNullary"
  ],
  "supportedEngines": [
    "Streaming",
    "Batch"
  ],
  "description": "Allows you to store data into SFTP",
  "properties": [
    {
      "propertyId": "fileType",
      "propertyName": "_SFTP_FILE_TYPE_",
      "propertyType": "select",
      "default": "",
      "tooltip": "Type of the file.",
      "required": true,
      "values": [
        {
          "label": "CSV",
          "value": "csv"
        },
        {
          "label": "TXT",
          "value": "txt"
        },
        {
          "label": "JSON",
          "value": "json"
        },
        {
          "label": "AVRO",
          "value": "avro"
        },
        {
          "label": "PARQUET",
          "value": "parquet"
        },
        {
          "label": "XML",
          "value": "xml"
        }
      ],
      "qa": "sftp-file-type"
    },
    {
      "propertyId": "path",
      "propertyName": "_SFTP_PATH_",
      "propertyType": "text",
      "default": "",
      "tooltip": "FTP URL of the file",
      "required": true,
      "qa": "fragment-details-sftp-path"
    },
    {
      "propertyId": "host",
      "propertyName": "_SFTP_HOST_",
      "propertyType": "text",
      "default": "",
      "tooltip": "SFTP Host.",
      "required": true,
      "qa": "fragment-details-sftp-host"
    },
    {
      "propertyId": "port",
      "propertyName": "_SFTP_PORT_",
      "propertyType": "text",
      "default": "22",
      "tooltip": "Port in which SFTP server is running. Default value 22.",
      "required": true,
      "qa": "fragment-details-sftp-port"
    },
    {
      "propertyId": "sftpServerUsername",
      "propertyName": "_SFTP_SERVER_USERNAME_",
      "propertyType": "text",
      "required": true,
      "tooltip": "SFTP Server username",
      "qa": "sftp-server-username"
    },
    {
      "propertyId": "password",
      "propertyName": "_SFTP_SERVER_PASSWORD_",
      "propertyType": "text",
      "required": false,
      "tooltip": "SFTP Server Password",
      "qa": "sftp-server-password"
    },
    {
      "propertyId": "delimiter",
      "propertyName": "_SFTP_DELIMITER_",
      "propertyType": "text",
      "required": false,
      "tooltip": "Set the field delimiter. Applicable only for csv fileType. Default is comma.",
      "default": ",",
      "visible": [
        [
          {
            "propertyId": "fileType",
            "value": "csv"
          }
        ]
      ],
      "qa": "sftp-delimiter"
    },
    {
      "propertyId": "rowTag",
      "propertyName": "_SFTP_ROWTAG_",
      "propertyType": "text",
      "required": false,
      "visible": [
        [
          {
            "propertyId": "fileType",
            "value": "xml"
          }
        ]
      ],
      "qa": "sftp-rowTag"
    },
    {
      "propertyId": "tlsEnabled",
      "propertyName": "_TLS_ENABLE_",
      "propertyType": "boolean",
      "tooltip": "Retrieves the necessary certificates from Vault and uses them to establish a TLS connection between Spark and SFTP",
      "default": false,
      "qa": "fragment-details-sftp-tls"
    },
    {
      "propertyId": "errorSink",
      "propertyName": "_ERROR_SINK_",
      "propertyType": "boolean",
      "tooltip": "This output can be used for sending errors in the errors management settings",
      "default": false,
      "qa": "fragment-details-errorSink"
    },
    {
      "propertyId": "saveOptions",
      "propertyName": "_SFTP_SAVE_PROPERTIES_",
      "propertyType": "list",
      "required": false,
      "qa": "fragment-details-parquet-save-properties",
      "fields": [
        {
          "propertyId": "saveOptionsKey",
          "propertyName": "_SAVE_OPTIONS_KEY_",
          "propertyType": "text",
          "width": 4,
          "required": false,
          "qa": "fragment-details-parquet-saveOptionsKey"
        },
        {
          "propertyId": "saveOptionsValue",
          "propertyName": "_SAVE_OPTIONS_VALUE_",
          "propertyType": "text",
          "width": 4,
          "required": false,
          "qa": "fragment-details-parquet-saveOptionsValue"
        }
      ]
    }
  ],
  "writer": [
    {
      "propertyId": "saveMode",
      "propertyName": "_SAVEMODE_",
      "propertyType": "select",
      "required": true,
      "default": "Append",
      "tooltip": "Specifies a Save mode. According to the desired output step (e.g. Postgres), it is possible to select not only the native Spark save modes but also an Upsert save mode that requires the setting of the primary key fields property.",
      "qa": "save-mode-writer",
      "values": [
        {
          "label": "Append",
          "value": "Append"
        },
        {
          "label": "Error if exists",
          "value": "ErrorIfExists"
        },
        {
          "label": "Ignore",
          "value": "Ignore"
        },
        {
          "label": "Overwrite",
          "value": "Overwrite"
        }
      ]
    },
    {
      "propertyId": "partitionBy",
      "propertyName": "_PARTITION_BY_",
      "propertyType": "text",
      "required": false,
      "tooltip": "Partition the output by one or more fields, separated by ','. This property is supported by outputs that write on file systems",
      "qa": "partition-by-writer"
    }
  ]
}
