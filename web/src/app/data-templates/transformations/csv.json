  {
     "name": "Csv",
     "icon": "Csv",
     "className": "CsvTransformStep",
     "classPrettyName": "Csv",
     "maxEdges": 3,     
     "description": "Parses an input field with csv format and returns all the obtained new fields or selected ones",
     "properties": [
        {
           "propertyId": "inputField",
           "propertyName": "_INPUT_FIELD_",
           "propertyType": "text",
           "required": true,
           "tooltip": "Filed that contains the csv string",
           "qa": "fragment-details-csv-fieldsString"
        },
        {
           "propertyId": "fieldsPreservationPolicy",
           "propertyName": "_FIELDS_PRESERVATION_",
           "required": true,
           "propertyType": "select",
           "default": "REPLACE",
           "values": [
              {
                 "label": "Replacing input field",
                 "value": "REPLACE"
              },
              {
                 "label": "Appending extracted",
                 "value": "APPEND"
              },
              {
                 "label": "Keeping just extracted",
                 "value": "JUST_EXTRACTED"
              }
           ],
           "qa": "workflow-transformation-csv-fieldsPreservationPolicy"
        },
        {
           "propertyId": "schema.inputMode",
           "propertyName": "_INPUT_SCHEMA_FROM_",
           "propertyType": "select",
           "required": true,
           "values": [
              {
                 "label": "Header",
                 "value": "HEADER"
              },
              {
                 "label": "Fields",
                 "value": "FIELDS"
              },
              {
                 "label": "Spark format",
                 "value": "SPARKFORMAT"
              }
           ],
           "default": "HEADER",
           "qa": "fragment-details-input-schema-type"
        },
        {
           "propertyId": "schema.header",
           "propertyName": "_HEADER_",
           "propertyType": "text",
           "visible": [
              [
                 {
                    "propertyId": "schema.inputMode",
                    "value": "HEADER"
                 }
              ]
           ],
           "required": true,
           "tooltip": "Header with the fields names",
           "qa": "fragment-details-csv-header"
        },
        {
           "propertyId": "schema.fields",
           "propertyName": "_FIELDS_DEFINITION_",
           "propertyType": "list",
           "visible": [
              [
                 {
                    "propertyId": "schema.inputMode",
                    "value": "FIELDS"
                 }
              ]
           ],
           "required": true,
           "tooltip": "Schema definition from list of fields",
           "qa": "fragment-details-csv-fields",
           "fields": [
              {
                 "propertyId": "name",
                 "propertyName": "_NAME_",
                 "propertyType": "text",
                 "required": true,
                 "width": 3,
                 "qa": "fragment-details-field-name"
              },
              {
                 "propertyId": "type",
                 "propertyName": "_TYPE_",
                 "propertyType": "select",
                 "custom": true,
                 "required": true,
                 "width": 3,
                 "values": [
                    {
                       "label": "String",
                       "value": "string"
                    },
                    {
                       "label": "Long",
                       "value": "long"
                    },
                    {
                       "label": "Float",
                       "value": "float"
                    },
                    {
                       "label": "Double",
                       "value": "double"
                    },
                    {
                       "label": "Integer",
                       "value": "integer"
                    },
                    {
                       "label": "Boolean",
                       "value": "boolean"
                    },
                    {
                       "label": "Binary",
                       "value": "binary"
                    },
                    {
                       "label": "Date",
                       "value": "date"
                    },
                    {
                       "label": "Timestamp",
                       "value": "timestamp"
                    },
                    {
                       "label": "Array(Double)",
                       "value": "arraydouble"
                    },
                    {
                       "label": "Array(String)",
                       "value": "arraystring"
                    },
                    {
                       "label": "Array(Long)",
                       "value": "arraylong"
                    },
                    {
                       "label": "Array(Integer)",
                       "value": "arrayinteger"
                    },
                    {
                       "label": "Array(Map(String, String))",
                       "value": "arraymapstringstring"
                    },
                    {
                       "label": "Map(String, Long)",
                       "value": "mapstringlong"
                    },
                    {
                       "label": "Map(String, Double)",
                       "value": "mapstringdouble"
                    },
                    {
                       "label": "Map(String, Integer)",
                       "value": "mapstringint"
                    },
                    {
                       "label": "Map(String, String)",
                       "value": "mapstringstring"
                    }
                 ],
                 "default": "string",
                 "qa": "fragment-details-field-type"
              },
              {
                 "propertyId": "nullable",
                 "propertyName": "_NULLABLE_",
                 "propertyType": "boolean",
                 "default": true,
                 "required": true,
                 "width": 3,
                 "qa": "fragment-details-field-nullable"
              }
           ]
        },
        {
           "propertyId": "schema.sparkSchema",
           "propertyName": "_SPARK_SCHEMA_",
           "propertyType": "text",
           "visible": [
              [
                 {
                    "propertyId": "schema.inputMode",
                    "value": "SPARKFORMAT"
                 }
              ]
           ],
           "required": true,
           "tooltip": "Spark schema for the fields in the csv",
           "qa": "fragment-details-csv-spark-schema"
        },
        {
           "propertyId": "delimiter",
           "propertyName": "_DELIMITER_",
           "propertyType": "text",
           "required": true,
           "default": ",",
           "tooltip": "Delimiter character in csv string",
           "qa": "fragment-details-csv-delimiter"
        },
        {
           "propertyId": "splitLimit",
           "propertyName": "_SPLIT_LIMIT_",
           "propertyType": "text",
           "required": true,
           "default": "-1",
           "tooltip": "Determines the number of results obtained from parsing. If set to -1 no limit will be specified.",
           "qa": "fragment-details-csv-splitLimit"
        },
        {
           "propertyId": "delimiterType",
           "propertyName": "_DELIMITER_TYPE_",
           "propertyType": "select",
           "default": "CHARACTER",
           "required": true,
           "values": [
              {
                 "label": "Character",
                 "value": "CHARACTER"
              },
              {
                 "label": "Regex",
                 "value": "REGEX"
              }
           ],
           "qa": "workflow-transformation-csv-delimiterType"
        },
        {
           "propertyId": "whenError",
           "propertyName": "_TRANSFORMATION_WHEN_ERROR_",
           "propertyType": "select",
           "default": "Error",
           "required": true,
           "values": [
              {
              "label": "Error",
              "value": "Error"
              },
              {
                 "label": "Discard",
                 "value": "Discard"
              },
              {
                 "label": "Null",
                 "value": "Null"
              }
           ],
           "qa": "workflow-transformation-csv-whenError"
        }
     ]
  }
