{
   "name": "Datetime",
   "icon": "Datetime",
   "category": "Row",
   "className": "DateTimeTransformStep",
   "classPrettyName": "Datetime",
   "supportedEngines": [
      "Streaming",
      "Batch"
   ],
   "arity": [
      "UnaryToNary"
   ],
   "supportedDataRelations": [
      "ValidData",
      "DiscardedData"
   ],
   "description": "It can either parse a list of input fields or create fields according to a given time format. Depending on the fieldsPreservationPolicy chosen by the user, either all the obtained new fields or just the selected ones will be returned.",
   "properties": [
      {
         "propertyId": "fieldsDatetime",
         "propertyName": "_FIELDS_DATETIME_DEFINITION_",
         "propertyType": "list",
         "complexForm": true,
         "required": true,
         "tooltip": " Specify a list of fields to format into Datetime",
         "qa": "fragment-details-datetime-fields",
         "fields": [
            {
               "propertyId": "formatFrom",
               "propertyName": "_FORMAT_FROM_",
               "propertyType": "select",
               "width": 4,
               "qa": "fragment-details-datetime-field-formatFrom",
               "values": [
                  {
                     "label": "Auto Generated",
                     "value": "AUTOGENERATED"
                  },
                  {
                     "label": "Standard",
                     "value": "STANDARD"
                  },
                  {
                     "label": "User",
                     "value": "USER"
                  }
               ],
               "default": "AUTOGENERATED",
               "required": true
            },
            {
               "propertyId": "inputField",
               "propertyName": "_INPUT_FIELD_",
               "propertyType": "text",
               "showSchemaFields": true,
               "width": 4,
               "required": true,
               "tooltip": "Field belonging to a previous incoming transformation from which the value will be extracted",
               "qa": "fragment-details-datetime-field-name",
               "visibleOR": [
                  [
                     {
                        "propertyId": "formatFrom",
                        "value": "USER"
                     },
                     {
                        "propertyId": "formatFrom",
                        "value": "STANDARD"
                     }
                  ]
               ]
            },
            {
               "propertyId": "userFormat",
               "propertyName": "_USER_FORMAT_",
               "propertyType": "text",
               "width": 4,
               "required": false,
               "visible": [
                  [
                     {
                        "propertyId": "formatFrom",
                        "value": "USER"
                     }
                  ]
               ],
               "tooltip": "Custom datetime format that will be applied to the input field specified previously.",
               "qa": "fragment-details-datetime-field-userFormat"
            },
            {
               "propertyId": "standardFormat",
               "propertyName": "_STANDARD_FORMAT_",
               "propertyType": "select",
               "float": false,
               "width": 4,
               "tooltip": "Standard date time format used to parse the input field.",
               "qa": "fragment-details-datetime-field-standardFormat",
               "values": [
                  {
                     "label": "Unix",
                     "value": "unix"
                  },
                  {
                     "label": "Unix millis",
                     "value": "unixMillis"
                  },
                  {
                     "label": "yyyy-MM-dd HH:mm:ss",
                     "value": "hive"
                  },
                  {
                     "label": "yyyyMMdd",
                     "value": "basicDate"
                  },
                  {
                     "label": "yyyyMMdd'T'HHmmss.SSSZ",
                     "value": "basicDateTime"
                  },
                  {
                     "label": "yyyyMMdd'T'HHmmssZ",
                     "value": "basicDateTimeNoMillis"
                  },
                  {
                     "label": "yyyyDDD",
                     "value": "basicOrdinalDate"
                  },
                  {
                     "label": "yyyyDDD'T'HHmmss.SSSZ",
                     "value": "basicOrdinalDateTime"
                  },
                  {
                     "label": "yyyyDDD'T'HHmmssZ",
                     "value": "basicOrdinalDateTimeNoMillis"
                  },
                  {
                     "label": "HHmmss.SSSZ",
                     "value": "basicTime"
                  },
                  {
                     "label": "HHmmssZ",
                     "value": "basicTimeNoMillis"
                  },
                  {
                     "label": "'T'HHmmss.SSSZ",
                     "value": "basicTTime"
                  },
                  {
                     "label": "'T'HHmmssZ",
                     "value": "basicTTimeNoMillis"
                  },
                  {
                     "label": "yyyy-MM-dd",
                     "value": "date"
                  },
                  {
                     "label": "yyyy-MM-dd'T'HH:mm:ss.SSS",
                     "value": "dateHourMinuteSecondMillis"
                  },
                  {
                     "label": "yyyy-MM-dd'T'HH:mm:ss.SSSZZ",
                     "value": "dateTime"
                  },
                  {
                     "label": "yyyy-MM-dd'T'HH:mm:ssZZ",
                     "value": "dateTimeNoMillis"
                  },
                  {
                     "label": "HH:mm:ss.SSS",
                     "value": "hourMinuteSecondFraction"
                  },
                  {
                     "label": "yyyy-DDD",
                     "value": "ordinalDate"
                  },
                  {
                     "label": "yyyy-DDD'T'HH:mm:ssZZ",
                     "value": "ordinalDateTimeNoMillis"
                  },
                  {
                     "label": "HH:mm:ss.SSSZZ",
                     "value": "time"
                  },
                  {
                     "label": "'T'HH:mm:ss.SSSZZ",
                     "value": "tTime"
                  },
                  {
                     "label": "'T'HH:mm:ssZZ",
                     "value": "tTimeNoMillis"
                  }
               ],
               "visible": [
                  [
                     {
                        "propertyId": "formatFrom",
                        "value": "STANDARD"
                     }
                  ]
               ],
               "required": false
            },
            {
               "propertyId": "localeTime",
               "propertyName": "_LOCALE_TIME_",
               "propertyType": "select",
               "width": 4,
               "required": true,
               "float": false,
               "default": "ENGLISH",
               "tooltip": "Apply a Locale (e.g. EN, ES, IT, etc) to the specified format.",
               "qa": "fragment-details-datetime-field-localeTime",
               "values": [
                  {
                     "label": "ENGLISH",
                     "value": "ENGLISH"
                  },
                  {
                     "label": "SPANISH",
                     "value": "SPANISH"
                  },
                  {
                     "label": "ITALIAN",
                     "value": "ITALIAN"
                  },
                  {
                     "label": "PORTUGUESE",
                     "value": "PORTUGUESE"
                  },
                  {
                     "label": "FRENCH",
                     "value": "FRENCH"
                  },
                  {
                     "label": "GERMAN",
                     "value": "GERMAN"
                  },
                  {
                     "label": "JAPANESE",
                     "value": "JAPANESE"
                  },
                  {
                     "label": "KOREAN",
                     "value": "KOREAN"
                  },
                  {
                     "label": "CHINESE",
                     "value": "CHINESE"
                  },
                  {
                     "label": "GREEK",
                     "value": "GREEK"
                  },
                  {
                     "label": "RUSSIAN",
                     "value": "RUSSIAN"
                  }
               ]
            },
            {
               "propertyId": "granularityNumber",
               "propertyName": "_GRANULARITY_NUMBER_",
               "propertyType": "text",
               "width": 4,
               "position": "left",
               "required": false,
               "regexp": "^[0-9]*$",
               "validateValue": "true",
               "tooltip": "Specify a value for the granularity time unit (when the time unit ends with (s)).",
               "qa": "fragment-details-datetime-field-granularityNumber"
            },
            {
               "propertyId": "granularityTime",
               "propertyName": "_GRANULARITY_TIME_",
               "propertyType": "select",
               "width": 4,
               "required": false,
               "float": false,
               "qa": "fragment-details-datetime-field-granularityTime",
               "values": [
                  {
                     "label": "Millisecond(s)",
                     "value": "ms"
                  },
                  {
                     "label": "Second(s)",
                     "value": "s"
                  },
                  {
                     "label": "Minute(s)",
                     "value": "m"
                  },
                  {
                     "label": "Hour(s)",
                     "value": "h"
                  },
                  {
                     "label": "Day(s)",
                     "value": "d"
                  },
                  {
                     "label": "Week(s)",
                     "value": "w"
                  },
                  {
                     "label": "Millisecond",
                     "value": "millisecond"
                  },
                  {
                     "label": "Second",
                     "value": "second"
                  },
                  {
                     "label": "Minute",
                     "value": "minute"
                  },
                  {
                     "label": "Hour",
                     "value": "hour"
                  },
                  {
                     "label": "Day",
                     "value": "day"
                  },
                  {
                     "label": "Week",
                     "value": "week"
                  },
                  {
                     "label": "Month",
                     "value": "month"
                  },
                  {
                     "label": "Year",
                     "value": "year"
                  }
               ],
               "tooltip": "Allows the user to specify the time unit granularity: if it ends with (s) it is required for the user to specify a value. E.g. for each minute select Minute and not Minute(s).",
               "default": "millisecond"
            },
            {
               "propertyId": "fieldsPreservationPolicy",
               "propertyName": "_FIELDS_PRESERVATION_",
               "required": true,
               "propertyType": "select",
               "default": "APPEND",
               "width": 4,
               "float": false,
               "values": [
                  {
                     "label": "Replacing input field",
                     "value": "REPLACE"
                  },
                  {
                     "label": "Appending extracted",
                     "value": "APPEND"
                  }
               ],
               "tooltip": "The user might choose between 2 modes. If 'Replacing input field' is chosen the resulting data will be saved in the position occupied by the input field. 'Appending extracted' will add the data at the end of the row.",
               "qa": "fragment-details-datetime-field-fieldsPreservationPolicy"
            },
            {
               "propertyId": "outputFieldName",
               "propertyName": "_OUTPUT_NAME_",
               "propertyType": "text",
               "required": true,
               "width": 4,
               "tooltip": "Name given to the resulting datetime transformation.",
               "qa": "fragment-details-datetime-field-outputFieldName"
            },
            {
               "propertyId": "outputFieldType",
               "propertyName": "_DATE_TYPE_",
               "propertyType": "select",
               "custom": true,
               "width": 4,
               "required": true,
               "values": [
                  {
                     "label": "String",
                     "value": "string"
                  },
                  {
                     "label": "Long",
                     "value": "long"
                  },
                  {
                     "label": "Date",
                     "value": "date"
                  },
                  {
                     "label": "Timestamp",
                     "value": "timestamp"
                  }
               ],
               "default": "string",
               "tooltip": "Type given to the resulting datetime transformation.",
               "qa": "fragment-details-datetime-field-type"
            },
            {
               "propertyId": "nullable",
               "propertyName": "_NULLABLE_",
               "propertyType": "boolean",
               "default": true,
               "required": true,
               "float": false,
               "tooltip": "Indicates if values of this field can be `null` values.",
               "qa": "fragment-details-datetime-field-nullable"
            },
            {
               "propertyId": "outputFormatFrom",
               "propertyName": "_OUTPUT_FORMAT_FROM_",
               "propertyType": "select",
               "width": 4,
               "qa": "fragment-details-datetime-field-outputFormatFrom",
               "values": [
                  {
                     "label": "Default Timestamp",
                     "value": "DEFAULT"
                  },
                  {
                     "label": "Standard",
                     "value": "STANDARD"
                  },
                  {
                     "label": "User",
                     "value": "USER"
                  }
               ],
               "tooltip": "Format given to the resulting datetime transformation.",
               "default": "DEFAULT",
               "required": true
            },
            {
               "propertyId": "outputUserFormat",
               "propertyName": "_OUTPUT_USER_FORMAT_",
               "propertyType": "text",
               "width": 4,
               "required": false,
               "visible": [
                  [
                     {
                        "propertyId": "outputFormatFrom",
                        "value": "USER"
                     }
                  ]
               ],
               "tooltip": "User specified format given to the resulting datetime transformation.",
               "qa": "fragment-details-datetime-field-outputUserFormat"
            },
            {
               "propertyId": "outputStandardFormat",
               "propertyName": "_OUTPUT_STANDARD_FORMAT_",
               "propertyType": "select",
               "width": 4,
               "qa": "fragment-details-datetime-field-outputStandardFormat",
               "values": [
                  {
                     "label": "yyyy-MM-dd HH:mm:ss",
                     "value": "yyyy-MM-dd HH:mm:ss"
                  },
                  {
                     "label": "yyyyMMdd",
                     "value": "yyyyMMdd"
                  },
                  {
                     "label": "yyyyMMdd'T'HHmmss.SSSZ",
                     "value": "yyyyMMdd'T'HHmmss.SSSZ"
                  },
                  {
                     "label": "yyyyMMdd'T'HHmmssZ",
                     "value": "yyyyMMdd'T'HHmmssZ"
                  },
                  {
                     "label": "yyyyDDD",
                     "value": "yyyyDDD"
                  },
                  {
                     "label": "yyyyDDD'T'HHmmss.SSSZ",
                     "value": "yyyyDDD'T'HHmmss.SSSZ"
                  },
                  {
                     "label": "yyyyDDD'T'HHmmssZ",
                     "value": "yyyyDDD'T'HHmmssZ"
                  },
                  {
                     "label": "HHmmss.SSSZ",
                     "value": "HHmmss.SSSZ"
                  },
                  {
                     "label": "HHmmssZ",
                     "value": "HHmmssZ"
                  },
                  {
                     "label": "'T'HHmmss.SSSZ",
                     "value": "'T'HHmmss.SSSZ"
                  },
                  {
                     "label": "yyyy-MM-dd'T'HH:mm:ss.SSS",
                     "value": "yyyy-MM-dd'T'HH:mm:ss.SSS"
                  },
                  {
                     "label": "yyyy-MM-dd'T'HH:mm:ss.SSSZZ",
                     "value": "yyyy-MM-dd'T'HH:mm:ss.SSSZZ"
                  },
                  {
                     "label": "yyyy-MM-dd'T'HH:mm:ssZZ",
                     "value": "yyyy-MM-dd'T'HH:mm:ssZZ"
                  },
                  {
                     "label": "HH:mm:ss.SSS",
                     "value": "HH:mm:ss.SSS"
                  },
                  {
                     "label": "yyyy-DDD",
                     "value": "yyyy-DDD"
                  },
                  {
                     "label": "yyyy-DDD'T'HH:mm:ssZZ",
                     "value": "yyyy-DDD'T'HH:mm:ssZZ"
                  },
                  {
                     "label": "HH:mm:ss.SSSZZ",
                     "value": "HH:mm:ss.SSSZZ"
                  },
                  {
                     "label": "'T'HH:mm:ss.SSSZZ",
                     "value": "'T'HH:mm:ss.SSSZZ"
                  },
                  {
                     "label": "'T'HH:mm:ssZZ",
                     "value": "'T'HH:mm:ssZZ"
                  }
               ],
               "visible": [
                  [
                     {
                        "propertyId": "outputFormatFrom",
                        "value": "STANDARD"
                     }
                  ]
               ],
               "required": false
            }
         ]
      },
      {
         "propertyId": "inputSchemas",
         "propertyName": "_INPUTS_TRIGGER_SCHEMA_",
         "propertyType": "list",
         "required": false,
         "complexForm": true,
         "tooltip": "Section that allows the user to define incoming steps schemas. Once defined properly, the schema calculation for all incoming inputs will be avoided thus increasing the workflow performance and type-safety.",
         "qa": "fragment-details-schema-fields",
         "fields": [
            {
               "propertyId": "stepName",
               "propertyName": "_INPUT_STEP_NAME_",
               "propertyType": "text",
               "showInputSteps": true,
               "required": true,
               "tooltip": "Incoming step name.",
               "width": 3,
               "float": false,
               "qa": "fragment-details-field-name"
            },
            {
               "propertyId": "schema",
               "propertyName": "_DESERIALIZER_SCHEMA_",
               "propertyType": "textarea",
               "contentType": "JSON",
               "width": 8,
               "tooltip": "Input schema either expressed in JSON/Spark format or by providing a valid sample.",
               "required": true,
               "qa": "fragment-details-field-query"
            }
         ]
      },
      {
         "propertyId": "whenRowError",
         "propertyName": "_TRANSFORMATION_WHEN_ROW_ERROR_",
         "propertyType": "select",
         "values": [
            {
               "label": "Error",
               "value": "RowError"
            },
            {
               "label": "Discard",
               "value": "RowDiscard"
            }
         ],
         "tooltip": "Specifies which policy to follow when a row-level error arises. If 'Error' is chosen, the application will stop and the error trace will be written to the log. If 'Discard' is chosen, no error will be prompted and the row will be omitted.",
         "qa": "workflow-transformation-whenRowError"
      },
      {
         "propertyId": "whenFieldError",
         "propertyName": "_TRANSFORMATION_WHEN_FIELD_ERROR_",
         "propertyType": "select",
         "values": [
            {
               "label": "Error",
               "value": "FieldError"
            },
            {
               "label": "Null",
               "value": "Null"
            }
         ],
         "tooltip": "Specifies which policy to follow when a field-level error arises. If 'Error' is chosen, the application will stop and the error trace will be written to the log. If 'Null' is chosen, no error will be prompted and the field value will be set to null.",
         "qa": "workflow-transformation-whenFieldError"
      }
   ]
}
