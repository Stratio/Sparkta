{
   "name": "Avro",
   "icon": "Avro",
   "category": "Row",
   "className": "AvroTransformStep",
   "classPrettyName": "Avro",
   "arity": [
      "UnaryToNary"
   ],
   "supportedEngines": [
      "Streaming",
      "Batch"
   ],
   "supportedDataRelations": [
      "ValidData",
      "DiscardedData"
   ],
   "description": "Allows you to convert the current dataset according to the AVRO binary format.",
   "properties": [
      {
         "propertyId": "inputField",
         "propertyName": "_INPUT_FIELD_",
         "propertyType": "text",
         "required": true,
         "tooltip": "Field that contains the AVRO string",
         "qa": "fragment-details-casting-fieldsString"
      },
      {
         "propertyId": "fieldsPreservationPolicy",
         "propertyName": "_FIELDS_PRESERVATION_",
         "required": true,
         "propertyType": "select",
         "default": "REPLACE",
         "values": [
            {
               "label": "Replacing input field",
               "value": "REPLACE"
            },
            {
               "label": "Appending extracted",
               "value": "APPEND"
            },
            {
               "label": "Keeping just extracted",
               "value": "JUST_EXTRACTED"
            }
         ],
         "tooltip": "The user might choose between 3 modes. If 'Replacing input field' is chosen the resulting data will be saved in the position occupied by the input field. 'Appending extracted' will add the data at the end of the row and lastly 'Keeping just extracted' will only keep the transformed data discarding the received.",
         "qa": "workflow-transformation-avro-fieldsPreservationPolicy"
      },
      {
         "propertyId": "schema.provided",
         "propertyName": "_DESERIALIZER_SCHEMA_",
         "propertyType": "textarea",
         "contentType": "JSON",
         "width": 8,
         "tooltip": "Avro schema in JSON format.",
         "required": false,
         "qa": "workflow-transformation-avro-schema-provided"
      },
      {
         "propertyId": "inputSchemas",
         "propertyName": "_INPUTS_TRIGGER_SCHEMA_",
         "propertyType": "list",
         "required": false,
         "complexForm": true,
         "width": 12,
         "tooltip": "Section that allows the user to define incoming steps schemas. If defined properly this would result in avoiding doing the schema calculation for all defined incoming inputs.",
         "qa": "fragment-details-schema-fields",
         "fields": [
            {
               "propertyId": "stepName",
               "propertyName": "_INPUT_STEP_NAME_",
               "propertyType": "text",
               "required": true,
               "tooltip": "Incoming step name.",
               "width": 6,
               "float": false,
               "qa": "fragment-details-field-name"
            },
            {
               "propertyId": "schema",
               "propertyName": "_DESERIALIZER_SCHEMA_",
               "propertyType": "textarea",
               "contentType": "JSON",
               "width": 12,
               "tooltip": "Schema expressed in JSON/Spark format or from a valid sample from the input being defined.",
               "required": true,
               "qa": "fragment-details-field-query"
            }
         ]
      },
      {
         "propertyId": "whenRowError",
         "propertyName": "_TRANSFORMATION_WHEN_ROW_ERROR_",
         "propertyType": "select",
         "values": [
            {
               "label": "Error",
               "value": "RowError"
            },
            {
               "label": "Discard",
               "value": "RowDiscard"
            }
         ],
         "qa": "workflow-transformation-whenRowError"
      }
   ]
}
