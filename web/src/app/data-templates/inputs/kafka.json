  {
    "name": "Kafka",
    "classPrettyName": "Kafka",
    "className": "KafkaInputStep",
    "icon": "Kafka",
     "arity": ["NullaryToNary"],
    "description": "Apache Kafka is publish-subscribe messaging system rethought as a distributed commit log.",
    "properties": [
      {
        "propertyId": "bootstrap.servers",
        "propertyName": "_BOOTSTRAP_SERVERS_",
        "propertyType": "list",
        "default": "",
        "required": true,
        "tooltip": "",
        "qa": "fragment-details-stratio-kafkadirect-bootstrap-servers",
        "fields": [
          {
            "propertyId": "host",
            "propertyName": "_HOST_",
            "propertyType": "text",
            "regexp": "((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))|(((?![0-9]+$)(?!.*-$)(?!-)[a-zA-Z0-9-]{2,63}))",
            "default": "localhost",
            "required": true,
            "width": 6,
            "tooltip": "Server address.",
            "hidden": false,
            "qa": "fragment-details-stratio-kafkadirect-broker"
          },
          {
            "propertyId": "port",
            "propertyName": "_PORT_",
            "propertyType": "text",
            "regexp": "(0|([1-9]\\d{0,3}|[1-5]\\d{4}|[6][0-5][0-5]([0-2]\\d|[3][0-5])))",
            "default": "9092",
            "required": true,
            "width": 2,
            "tooltip": "Server port.",
            "hidden": false,
            "qa": "fragment-details-stratio-kafkadirect-port"
          }
        ]
      },
      {
        "propertyId": "topics",
        "propertyName": "_TOPICS_",
        "propertyType": "list",
        "required": true,
        "tooltip": "Kafka topic name. At least one is required.",
        "qa": "fragment-details-stratio-kafkadirect-topics",
        "fields": [
          {
            "propertyId": "topic",
            "propertyName": "_TOPIC_",
            "propertyType": "text",
             "width": 6,
            "required": true,
            "tooltip": "Topic to connect.",
            "hidden": false,
            "qa": "fragment-details-stratio-kafkadirect-topic"
          }
        ]
      },
      {
          "propertyId": "group.id",
          "propertyName": "_GROUP_ID_",
          "propertyType": "text",
          "default": "sparta",
          "required": false,
          "tooltip": "Identifies the consumer group this consumer belongs to.",
          "qa": "fragment-details-stratio-kafkadirect-group-id"
       },
      {
          "propertyId": "value.deserializer.inputFormat",
          "propertyName": "_DESERIALIZER_INPUT_FORMAT_",
          "propertyType": "select",
          "values": [
             {
                "label": "String",
                "value": "STRING"
             },
             {
                "label": "Json",
                "value": "JSON"
             }
          ],
          "default": "STRING",
          "required": true,
          "qa": "fragment-details-kafka-deserializer-input-format"
       },
      {
          "propertyId": "outputField",
          "propertyName": "_OUTPUT_FIELD_",
          "propertyType": "text",
          "default": "raw",
          "required": true,
          "visible": [
             [
                {
                   "propertyId": "value.deserializer.inputFormat",
                   "value": "STRING"
                }
             ]
          ],
          "tooltip": "Name assigned to the output field generated",
          "qa": "fragment-details-kafka-outputField"
       },
      {
          "propertyId": "value.deserializer.json.schema.fromRow",
          "propertyName": "_SCHEMA_FROM_ROW_",
          "propertyType": "boolean",
          "required": true,
          "visible": [
             [
                {
                   "propertyId": "value.deserializer.inputFormat",
                   "value": "JSON"
                }
             ]
          ],
          "default": true,
          "tooltip": "If checked, each row schema will be inferred from its contents",
          "qa": "workflow-transformation-kafka-schema-fromRow"
       },
      {
          "propertyId": "value.deserializer.json.schema.inputMode",
          "propertyName": "_INPUT_SCHEMA_FROM_",
          "propertyType": "select",
          "visible": [
             [
                {
                   "propertyId": "value.deserializer.inputFormat",
                   "value": "JSON"
                },
                {
                   "propertyId": "value.deserializer.json.schema.fromRow",
                   "value": false
                }
             ]
          ],
          "values": [
             {
                "label": "Spark format",
                "value": "SPARKFORMAT"
             },
             {
                "label": "Example",
                "value": "EXAMPLE"
             }
          ],
          "default": "SPARKFORMAT",
          "required": true,
          "qa": "workflow-transformation-kafka-schema-mode"
       },
      {
          "propertyId": "value.deserializer.json.schema.provided",
          "propertyName": "_DESERIALIZER_SCHEMA_",
          "propertyType": "textarea",
          "contentType": "JSON",
          "tooltip": "Schema in json/Spark format or from example",
          "default": "",
          "visible": [
             [
                {
                   "propertyId": "value.deserializer.inputFormat",
                   "value": "JSON"
                },
                {
                   "propertyId": "value.deserializer.json.schema.fromRow",
                   "value": false
                }
             ]
          ],
          "required": false,
          "qa": "fragment-details-kafka-deserializer-json"
       },
      {
        "propertyId": "partition.assignment.strategy",
        "propertyName": "_PARTITION_STRATEGY_",
        "propertyType": "select",
        "values": [
          {
            "label": "Range",
            "value": "range"
          },
          {
            "label": "Round Robin",
            "value": "roundrobin"
          }
        ],
        "default": "range",
        "required": true,
        "qa": "fragment-details-stratiokafkadirect-partition-assignment-strategy"
      },
      {
        "propertyId": "locationStrategy",
        "propertyName": "_LOCATION_STRATEGY_",
        "propertyType": "select",
        "values": [
          {
            "label": "Prefer Consistent",
            "value": "preferconsistent"
          },
          {
            "label": "Prefer Brokers",
            "value": "preferbrokers"
          }
        ],
        "default": "preferconsistent",
        "tooltip": "PreferConsistent will distribute partitions evenly across available executors. If your executors are on the same hosts as your Kafka brokers, use PreferBrokers",
        "required": true,
        "qa": "fragment-details-stratiokafkadirect-locationStrategy"
      },
      {
        "propertyId": "auto.offset.reset",
        "propertyName": "_KAFKA_AUTO_OFFSET_",
        "propertyType": "select",
        "values": [
          {
            "label": "Earliest",
            "value": "earliest"
          },
          {
            "label": "Latest",
            "value": "latest"
          }
        ],
        "default": "latest",
        "required": true,
        "tooltip": "earliest : automatically reset the offset to the earliest offset. latest : automatically reset the offset to the latest offset",
        "qa": "fragment-details-stratiokafkadirect-auto-offset"
      },
      {
        "propertyId": "enable.auto.commit",
        "propertyName": "_KAFKA_ENABLE_AUTOCOMMIT_",
        "propertyType": "boolean",
        "tooltip": "If true the consumer's offset will be periodically committed in the background",
        "default": false,
        "qa": "fragment-details-kafka-enable-autocommit"
      },
      {
        "propertyId": "storeOffsetInKafka",
        "propertyName": "_KAFKA_STORE_OFFSET_ITSELF_",
        "propertyType": "boolean",
        "tooltip": "It's mandatory to disable the auto commit",
        "default": true,
        "visible": [
          [
            {
              "propertyId": "enable.auto.commit",
              "value": false
            }
          ]
        ],
        "qa": "fragment-details-kafka-offset-in-kafka"
      },
      {
        "propertyId": "tlsEnabled",
        "propertyName": "_TLS_ENABLE_",
        "propertyType": "switch",
        "tooltip": "Enable TLS connection to connect to Kafka brokers getting certs from vault in Spark job",
        "default": false,
        "qa": "fragment-details-kafka-tls"
      },
      {
        "propertyId": "kafkaProperties",
        "propertyName": "_KAFKA_PROPERTIES_",
        "propertyType": "list",
        "required": false,
        "tooltip": "Values set here will override the ones in the default configuration.",
        "qa": "fragment-details-kafka-properties",
        "fields": [
          {
            "propertyId": "kafkaPropertyKey",
            "propertyName": "_KAFKA_PROPERTY_KEY_",
            "propertyType": "text",
             "width": 4,
            "required": false,
            "qa": "fragment-details-kafka-kafkaPropertyKey"
          },
          {
            "propertyId": "kafkaPropertyValue",
            "propertyName": "_KAFKA_PROPERTY_VALUE_",
            "propertyType": "text",
             "width": 4,
            "required": false,
            "qa": "fragment-details-kafka-kafkaPropertyValue"
          }
        ]
      }
    ]
  }