<!--
    © 2017 Stratio Big Data Inc., Sucursal en España. All rights reserved.
    This software – including all its source code – contains proprietary
    information of Stratio Big Data Inc., Sucursal en España and
    may not be revealed, sold, transferred, modified, distributed or
    otherwise made available, licensed or sublicensed to third parties;
    nor reverse engineered, disassembled or decompiled, without express
    written authorization from Stratio Big Data Inc., Sucursal en España.
-->
<div class="workflow-starter" *ngIf="showInitialMode | async">
    <img src="assets/images/wizard-details.svg" class="workflow-detail-image" />
    <h2 class="egeo-title-large create-title">{{'DASHBOARD.CREATE_FIRST_WORFKOW' | translate}}</h2>
    <span>{{'DASHBOARD.CREATE_FIRST_WORFKOW_DESCRIPTION' | translate}}</span>
    <div class="workflow-options"><!--
        --><div class="option streaming" (click)="createWorkflow('streaming')">
            <div class="icon-container">
               <img src="assets/images/iconStreaming.svg" class="icon" />
            </div>
            <div>
                <span class="title">{{'DASHBOARD.STREAMING_TITLE' | translate}}</span>
                <span class="description">{{'DASHBOARD.STREAMING_DESCRIPTION' | translate}}</span>
            </div>
        </div><!--
        --><div class="option batch" (click)="createWorkflow('batch')">
            <div class="icon-container">
               <img src="assets/images/iconBatch.svg" class="icon" />
            </div>
            <div>
                <span class="title">{{'DASHBOARD.BATCH_TITLE' | translate}}</span>
                <span class="description">{{'DASHBOARD.BATCH_DESCRIPTION' | translate}}</span>
            </div>
        </div>
    </div>
    <div class="upload-json" (click)="createWorkflow('json')">{{'DASHBOARD.UPLOAD_JSON_LINK' | translate}}</div>
</div>
<div #newWorkflowModalMonitoring qaTag="workflow-modal"></div>
<div [hidden]="executionInfo" *ngIf="!(showInitialMode | async)">
    <workflows-header-container [showDetails]="showDetails" [selectedWorkflows]="selectedWorkflows" [workflowListLength]="workflowList.length"
        (showWorkflowInfo)="showWorkflowInfo()"></workflows-header-container>
    <div class="container">
        <div class="table-container" [ngClass]="{'compressed' : showDetails}">
            <div class="workflow-list">
                <workflows-table-container [workflowList]="workflowList" [selectedWorkflowsIds]="selectedWorkflowsIds"></workflows-table-container>
            </div>
            <div class="workflow-detail-container">
                <sparta-sidebar [isVisible]="showDetails" (onCloseSidebar)="showWorkflowInfo()" >
                    <workflow-detail class="workflow-detail" (showWorkflowExecutionInfo)="showWorkflowExecutionInfo($event)" [workflowData]="selectedWorkflows.length ? selectedWorkflows[0] : null" (showConsole)="showConsole($event)"></workflow-detail>
                </sparta-sidebar>
            </div>
        </div>
    </div>
</div>
<workflow-console *ngIf="showDebugConsole" [workflow]="selectedWorkflows.length ? selectedWorkflows[0] : null" (closeConsole)="onCloseConsole()"></workflow-console>
<workflow-execution-info *ngIf="executionInfo" [executionInfo]="executionInfo"></workflow-execution-info>
