<div #backupsModal qaTag="backup-modal">
</div>
<tool-bar>
   <div breadcrumb>
      <st-breadcrumbs [options]="breadcrumbOptions" (select)="breadcrumbMenuService.setRoute($event)" qaTag="backups-breadcrumb"></st-breadcrumbs>
   </div>
   <div selection-tools>
    <button class="button button-toolbar" *ngIf="selectedBackups.length === 1" (click)="executeBackupModal()">
        <i class="icon-play"></i>
    </button>
    <button class="button button-toolbar" *ngIf="selectedBackups.length" (click)="downloadBackup()">
        <i class="icon-download"></i>
    </button>
    <button class="button button-toolbar" *ngIf="selectedBackups.length" (click)="deleteBackupConfirmModal()">
        <i class="icon-trash"></i>
    </button>
   </div>
   <div general-tools>
    <button class="button button-toolbar" *ngIf="(backupList$ | async).length" (click)="deleteAllBackupsConfirmModal()">
        <i class="icon-trash delete-all"></i>
    </button>
      <form-file class="form-file" type="button-toolbar" (onFileUpload)="uploadBackup($event)"></form-file>
      <button class="button button-toolbar" (click)="generatebackup()">
        <i class="icon-plus"></i>   
    </button>

   </div>
</tool-bar>
<div class="container">
   <div class="row center">
      <div class="col-xs-12">
         <st-table [fields]="fields" [sortable]="true" [qaTag]="'backups-table'" class="backups-table">
            <tr st-table-row class="backup-row" *ngFor="let backup of backupList$ | async" (click)="checkRow(!((selectedBackups.indexOf(backup.fileName)) > -1), backup)"
                [selected]="selectedBackups.indexOf(backup.fileName) > -1">
                <td st-table-cell st-table-row-content>
                    <st-checkbox [value]="backup" (change)="checkValue($event)" [checked]="selectedBackups.indexOf(backup.fileName) > -1"></st-checkbox>
                </td>
               <td st-table-cell st-table-row-content>
                  <label>{{backup.fileName}}</label>
               </td>
               <td st-table-cell st-table-row-content>
                  <label>{{backup.size}}</label>
               </td>
            </tr>
         </st-table>
      </div>
   </div>
</div>
