<!--
    © 2017 Stratio Big Data Inc., Sucursal en España. All rights reserved.
    This software – including all its source code – contains proprietary
    information of Stratio Big Data Inc., Sucursal en España and
    may not be revealed, sold, transferred, modified, distributed or
    otherwise made available, licensed or sublicensed to third parties;
    nor reverse engineered, disassembled or decompiled, without express
    written authorization from Stratio Big Data Inc., Sucursal en España.
-->

<section [ngClass]="{'mobile' : isMobile}">
      <wizard-header class="wizard-header"
         [isNodeSelected]="selectedNodeName && selectedNodeName.length"
         [isEdgeSelected]="selectedEdge && selectedEdge.origin"
         [workflowName]="workflowName"
         [workflowVersion]="workflowVersion"
         (onZoomOut)="editor.changeZoom(false)"
         (onZoomIn)="editor.changeZoom(true)"
         (onCenter)="editor.centerWorkflow()"
         (onSaveWorkflow)="saveWorkflow($event)"
         (onEditEntity)="editButtonEntity()"
         (onDuplicateNode)="duplicateNode()"
         (deleteSelection)="deleteSelection()"></wizard-header>

      <div class="editor" #editorArea>
         <wizard-editor class="editor-component" [ngClass]="{'loaded' : workflowName && workflowName.length}"
           [workflowType]="workflowType"
           [workflowEdges]="workflowEdges"
           [workflowNodes]="workflowNodes"
           [svgPosition]="svgPosition"
           [selectedNodeName]="selectedNodeName"
           [selectedEdge]="selectedEdge"
           [creationMode]="creationMode$ | async"
           (editEntity)="editEntity($event)"
           (selectNode)="selectNode($event)"
           (createNode)="createNode($event)"
           (onCreateEdge)="createEdge($event)"></wizard-editor>

         <sparta-sidebar [isVisible]="isShowedEntityDetails$ | async" class="wizard-sidebar" (onCloseSidebar)="closeSideBar()">
            <wizard-details [entityData]="selectedNodeModel"></wizard-details>
         </sparta-sidebar>
      </div>
   </section>
