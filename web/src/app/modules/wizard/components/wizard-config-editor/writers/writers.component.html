<section>
  <div class="accordion">
    <div class="accordion__item" *ngFor="let writerGroup of getKeys(writersGroup.controls); let i = index;">
      <div class="accordion__header" (click)="accordionStates[i] = !accordionStates[i]">
        <span class="accordion__icon" [ngClass]="accordionStates[i] ? 'icon-arrow2_down' : 'icon-arrow2_right'"></span>
        <span class="accordion__header-label">{{nodeWritersNames[writerGroup].name}}</span>
        <span *ngIf="writersGroup.get(writerGroup).errors as errors" class="accordion__error">
          {{
            (errors.formGeneratorError.errors.length === 1 ? 'WIZARD.WRITER_ERROR' : 'WIZARD.WRITER_ERRORS') | translate:{
              number: errors.formGeneratorError.errors.length}
          }}
        </span>
      </div>
      <div class="accordion__form" [hidden]="!accordionStates[i]">
        <form-generator  [variableList]="formVariables"
          [showVars]="true"
          [forceValidations]="forceValidations"
          [formData]="writerTemplates[i]"
          [formControl]="writersGroup.get(writerGroup)"></form-generator>
      </div>
    </div>
  </div>
</section>
