<section class="box-schema">
   <div class="box-schema-header">
     <span class="icon icon-grid4"></span>
     <span class="box-schema-header__title">{{schema.name}} as {{schema.alias}}</span>
     <span *ngIf="!disableDrag" class="icon icon-waiting" (click)="headerMenu = !headerMenu">
         <st-dropdown-menu
            [items]="inputOptions"
            [attr.id]="'inputOptions'"
            [active]="headerMenu"
            [offset]="{ x: 0, y: 10 }"
            (change)="onChangeOption($event)">
         </st-dropdown-menu>
     </span>
   </div>
   <div class="table-container" [ngClass]="{'no-drop': isDragging} ">
     <div class="box-schema-body">
       <div class="box-schema-body__header"><!--
       --><div class="box-schema-body__header-field column">
           Column
         </div><!--
       --><div class="box-schema-body__header-field type">
           Type
         </div><!--
    --></div>
      <div field-position
        [recalcPositionSubject]="containerPositionSubject"
        [containerElement]="containerElement"
        (positionChange)="onChangeContainerPosition($event)">
        <div (scroll)="onScroll()"
         class="box-schema-body__scroll" [style.maxHeight.px]="listMaxHeight">
         <div class="box-schema-body__row-group" [dndList]=" isDragging ? schema.fields : false" (dndDrop)="onDrop($event)">
           <div class="box-schema-body__row"
             *ngFor="let field of schema.fields"
             [ngClass]="{'selected' :  selectedFieldsNames.indexOf(field.column) > -1, 'no-drag': disableDrag }"
             [dndDraggable]="selectedFields"
             (dndDragstart)="onDragstart($event)"
             (dndMoved)="onMoved()"
             [dndDisable]="disableDrag || field.lostField"
             [attr.title]="field.lostField ? 'This column does not exist in the current table schema' : ''"
             field-position
             (positionChange)="onChangeElementPosition(field.column, $event)"
             [containerElement]="containerElement"
             [recalcPositionSubject]="recalcPositionSubject"
             (mousedown)="!field.lostField && selectColumn(field)"><!--
         --><div class="box-schema-body__field column" [ngClass]="{'box-schema-body__field--lost-field' : field.lostField}">
              <span class="icon icon-alert"></span> {{field.column}}
             </div><!--
           --><div class="box-schema-body__field type" [ngClass]="{'box-schema-body__field--lost-field' : field.lostField}">
             {{field.fieldType.length ? field.fieldType : field.fieldType.type}}
             </div><!--
         --></div>
         </div>
        </div>
       </div>
     </div>
   </div>
 </section>
